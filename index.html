<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Themes</title>
    <link rel="shortcut icon" href="Dash.png"/>
<!-- ################################################################## -->
<!--                           READ ME FIRST                            -->
<!-- ################################################################## --> <!--

Copyright:                 

    o Copyright: ¬© 2022 Jackie.Blue
    o Full copyright privledges until Open Source license is established

Purpose:                   

    o Provide user controls to create and change CSS attributes :root --variable-names and values
    o Update attribute edit panels to reflect the attribute values and controls for a selected user element
    o Display all css :root variable names and values as a CSS theme for user cut and paste.

Focus areas                

    o prefer words instead of abbreviatons for open source clarity and readability
    o pure js so not to add additional libraries, dependencies, and complexity.  KISS 
    o all attributes in a CSS tag, name, and class will referece :root theme --variables
    o all actual CSS attribute values are listed for quick editing in the css :root section
    o one click navigation selling poinnt, two clicks if a selection or menu is required.  
    o no images.  System icons will utilize the unicode emoji character set
        a collection of common emojis are provided at the end of this document for reference

    o code format is personal for editor collapse and block edit functions..
          there no requirements to follow my code preferences.   

Naming Convetions:         

    myVar               : javascript function or variable name
    var_name            : javascript function or variable name for readability
    _field_name         : DOM object field for storing parameters passed to or used by event handelers
    myElement           : css class, id, or tag name        i.e. .myTitle { }
    --font-size         : default :root variable name       i.e. --color
    --myElem-font-size  : class :root variable name         i.e. --button-font-size
    --sys-elem-font-size: system theme :root variable name  i.e. --sys-button-font-size
    --myElem-color_id   : used in associated html elementa id= or a collection name= for js reference
                          attribute and variable names are used to generate unique id= names like id='--title-color'
                          suffixs are also added to denote different system elements for the same attribute  
                                                            i.e. <..id='font-size_default_value'>  
                                                                 <..id='font-size_undo_value'>

Initial Theme and Classes: 

    o Provided :root variables defined in themes.css are overridden by local storage user changes on page reload
    o Output from the Theme Generator may be used to replace defauls in themes.css 

    o Themes and classes for shown system elements [labels, knobs, status] are stored in the style section of this html document
    o User area element themes and classes are stored in the themes.css file
    o User and system themes are separated to prevent user theme changes from affecting system elements
    o Both initial themes are represented by :root variable values in the themes.css file
    o Default css root variable names like '--color' describe the themes default attribute values.
    o Attribute values for a given css class like 'title {}' may optionly and initially specify a 
        default variable name to share a setting across css classes like 'div, span {font-size: var(--font-size)}'
    o Attribute values for a given css class like 'title {}' may optionly and initially specify a 
        variable name unique to the class and not shared like 'title {font-size: var(--title-font-size)}'
    o Each element contains variables for only one shadow, transform, etc.  Optionaly create multiple shadows
        in its own class and assign both the element and appropriate shadow classes to the HTML element 

Main Event Handlers:       

    genEdit()       - generate HTML for all system attribute edit panels with associated attributes for 
                         a selected user element event
    gen....()       - like above, generate HTML and/or fill in values for popups
    chgAttr()       - change the value of a single themed attribute variable in css :root and display the results 

    o See the console.log for event function() calls, parameters, and flow
    o See 'function() PARAMETERS' description at the beginning of the javascript section
    o See comments before each function() for function design notes, specifications, and flow

Main Parameters:           

    class_name         - a string denoting a specific class, id, or tag name i.e. button, title, innerGrid
                    - only one class_name at a time.  Edit a title or a button, not both at the same time. 
    attr_ctrl       - object containg an attributes associated attribute options list or numerical limits
    var_name        - associated attribute variable names prefix i.e. --button-background-color, --title-font-size
                                                                        -->

<!-- ################################################################## -->
<!--                      SYSTEM ELEMENTS <STYLE>                       -->
<!-- ################################################################## -->

    <!-- <link rel="stylesheet" href="./themes.css"> -->

    <style type="text/css" >
    /* ----------------------------------------------------------- intro

        system elements are all elements displayed outside the users themed results area  
        see themes.css for user area classes and variables 

        A system theme is provided here being separate and unaffected by user theme changes

        All tag and class elements in this section may be replaced to
        change the layout and theme of system elements.

        Unlike my inexperienced quick hack below, all attribue values are to use 
        available var(--sys..) where all actual values are contained in css :root.

        The system class name format is     .sysElemName
        The system variable name format is  --sys-attribute-name or --sys-className-attribute-name 

        ---------------------------------------------------------- */ 

        /* SYSTEM THEME VARIABLES */
        html[data-theme = 'system'] {
            /* system                   */

                    --sys-color:                   var(--sys-white);
                    --sys-background-color:        var(--sys-blueBg);
                    --sys-hover-color:             var(--sys-red);
                    --sys-font-size:               18px;
                    --sys-small:                   18px;
                    
                    --sys-font-style:              normal;
                    --sys-font-family:             Candara;
                    --sys-text-align:              left;
                    --sys-text-indent:             0px;
                    --sys-line-height:             1.10; /* space between lines, 1.1 default */

                    --sys-fancy:                   Gabriola; 
                    --sys-title:                   calibri; 
                    --sys-desc:                    'Copperplate Gothic'; 
                    --sys-text:                    Candara; 

                    --sys-back:                    '‚óÄ';
                    --sys-pointU:                  'ü†ù';     
                    --sys-pointL:                  'ü†ú';
                    --sys-pointR:                  'ü†û';
                    --sys-pointD:                  'ü†ü';

                    --sys-white:                   #c0c0c0; 
                    --sys-black:                   #000000; 
                    --sys-grey:                    ; 
                    --sys-red:                     #ed143d;  
                    --sys-green:                   #90ee90;
                    --sys-blue:                    #00bfff;
                    --sys-yellow:                  #daa520;
                    --sys-purple:                  #8a2be2;
                    --sys-brown:                   #492222;

                    --sys-redBg:                   #8b0000;  
                    --sys-greenBg:                 #6b8e23;
                    --sys-blueBg:                  #211f41;
                    --sys-brighter-blueBG:         #1b3369;
                    --sys-yellowBg:                #6a4520;
                    --sys-purpleBg:                #2a1072;
                    --sys-greyBg:                  #0D0D20; 
            /* sys-title                */
                    --sys-title-font-family   :  var(--sys-title); 
                    --sys-title-font-size     :  36px;
                    --sys-title-font-weight   :  400; 
                    --sys-title-font-style    :  normal;
                    --sys-title-color         :  var(--sys-color);
                    --sys-title-background-color :  transparent;
                    --sys-title-text-align    :  left;
                    --sys-title-margin-top    :  0;
                    --sys-title-margin-bottom :  0;
                    --sys-title-margin-left   :  0;
                    --sys-title-margin-right  :  0;
                    --sys-title-padding-top   :  0;   
                    --sys-title-padding-bottom:  0;   
                    --sys-title-padding-left  :  0;   
                    --sys-title-padding-right :  0;
                    --sys-title-line-height   :  1.1; 
            /* sys-header               */

                    --sys-header-background-color: var(--sys-brighter-blueBG); 
            /* sys-desc                 */
                    --sys-desc-font-family    :  var(--sys-desc); 
                    --sys-desc-font-size      :  20px;
                    --sys-desc-font-weight    :  400; 
                    --sys-desc-font-style     :  normal;
                    --sys-desc-color          :  var(--sys-yellow);
                    --sys-desc-background-color: transparent;
                    --sys-desc-text-align     :  left;
                    --sys-desc-margin-top     :  0;
                    --sys-desc-margin-bottom  :  0;
                    --sys-desc-margin-left    :  0;
                    --sys-desc-margin-right   :  0;
                    --sys-desc-padding-top    :  0;   
                    --sys-desc-padding-bottom :  0;   
                    --sys-desc-padding-left   :  0;   
                    --sys-desc-padding-right  :  0;
                    --sys-desc-line-height    :  1.1; 
            /* sys-button               */
                    --sys-button-font-family    :  var(--sys-desc); 
                    --sys-button-font-size      :  18px;
                    --sys-button-font-weight    :  400; 
                    --sys-button-font-style     :  normal;
                    --sys-button-color          :  var(--sys-white);
                    --sys-button-background-color: var(--sys-greyBg);
                    --sys-button-text-align     :  left;
                    --sys-button-margin-top     :  0;
                    --sys-button-margin-bottom  :  0;
                    --sys-button-margin-left    :  0;
                    --sys-button-margin-right   :  3px;
                    --sys-button-padding-top    :  3px;   
                    --sys-button-padding-bottom :  3px;   
                    --sys-button-padding-left   :  6px;   
                    --sys-button-padding-right  :  6px;
                    --sys-button-border-style   :  none;
                    --sys-button-borderWidth    :  0px;
                    --sys-button-line-height    :  1.1; 
            /* sys-input                */
                    --sys-input-font-family    :  var(--sys-desc); 
                    --sys-input-font-size      :  14px;
                    --sys-input-font-weight    :  400; 
                    --sys-input-font-style     :  normal;
                    --sys-input-color          :  var(--sys-white);
                    --sys-input-borderColor    :  var(--sys-white);
                    --sys-input-borderWidth    :  0px;
                    --sys-input-background-color: transparent;
                    --sys-input-text-align     :  left;
                    --sys-input-margin-top     :  0;
                    --sys-input-margin-bottom  :  0;
                    --sys-input-margin-left    :  0;
                    --sys-input-margin-right   :  0;
                    --sys-input-padding-top    :  0;   
                    --sys-input-padding-bottom :  0;   
                    --sys-input-padding-left   :  0;   
                    --sys-input-padding-right  :  0;
                    --sys-input-line-height    :  1.1;
                    --sys-input-border         :  none;
                    --sys-input-padding        :  0;   
            }


        /* SYSTEM GRIDs  */
            .splitGrid       { 
                width:                  100%; 
                display:                grid;
                grid-template-rows:     1fr;
                grid-template-columns:  1fr 1fr;
                grid-gap:               8px;
                }
            .infoGrid        { 
                grid-template-columns: .5fr 3.5fr }
            .infoDescGrid    { 
                grid-template-columns:  .5fr 1.3fr  1.3fr 1.4fr; }
            .infoUseGrid     { 
                grid-template-columns: .5fr .75fr 2.75fr }
            .infoLinksGrid   { 
                grid-template-columns:  1fr 1fr  1fr 1fr; }
            .infoDescGrid, .infoLinksGrid, .infoGrid, .infoUseGrid  { 
                margin-bottom:          8px; 
                padding:                8px;
                display:                grid;
                grid-template-rows:     1fr;
                grid-gap:               8px;
                justify-items:          stretch;
                }
            .editColumnsGrid { 
                margin-bottom:          0px; 
                padding:                8px;
                display:                grid;
                grid-template-rows:     1fr;
                grid-template-columns:  1.1fr 3.9fr 1fr;
                justify-items:          stretch;
                align-items:            stretch;
                }

            .sysColumns { -webkit-column-count: 25% 4;     -moz-column-count: 25% 4;     column-count: 25% 4;} 

        /* SYSTEM .CLASS */
            .sysDesc                {
                                  font-family    :    var(--sys-desc-font-family   ); 
                                  font-size      :    var(--sys-desc-font-size     );
                                  font-weight    :    var(--sys-desc-font-weight   );
                                  font-style     :    var(--sys-desc-font-style    );
                                  color          :    var(--sys-desc-color         );
                                  background-color:   var(--sys-desc-background-color);
                                  text-align     :    var(--sys-desc-text-align    );
                                  margin-top     :    var(--sys-desc-margin-top    );
                                  margin-bottom  :    var(--sys-desc-margin-bottom );
                                  margin-left    :    var(--sys-desc-margin-left   );
                                  margin-right   :    var(--sys-desc-margin-right  );
                                  padding-top    :    var(--sys-desc-padding-top   );   
                                  padding-bottom :    var(--sys-desc-padding-bottom);   
                                  padding-left   :    var(--sys-desc-padding-left  );   
                                  padding-right  :    var(--sys-desc-padding-right );
                                  line-height    :    var(--sys-desc-line-height   ); 
                                  justify-items :     stretch;
                        }
            .sysFancy               { font-family:        var(--sys-fancy); }       /* remove usage */
            .sysSmall               { font-size:          var(--sys-small); }       /* used? */
            .sysText                { font-family:        var(--sys-font-family);   /* needed? used?*/
                                  font-size:          var(--sys-font-size); 
                                  color:              var(--sys-color); } 
            .system, .sysText       {
                                  font-family:        var(--sys-font-family); 
                                  font-style:         var(--sys-font-style); 
                                  font-size:          var(--sys-font-size);
                                  color:              var(--sys-color);
                                  background-color:   var(--sys-background-color);
                                  text-indent:        var(--sys-text-indent);
                                  line-height:        var(--sys-line-height);
                                  }
            .sysInput               { border-width:       var(--sys-input-borderWidth);
                                  border            : var(--sys-input-border );
                                  padding           : var(--sys-input-padding);
                                  -webkit-appearance: none;
                                }
            .sysHeader              { background-color:   var(--sys-header-background-color);
                                      font-family:        var(--sys-desc-font-family);
                                      width:              100%;
                                      margin-bottom:      30px;
                                    }
            .sysHover:hover         { background-color:   var(--sys-black);              
                                      color:              var(--sys-white);  
                                      transition:         0.1s; 
                                      border-color:       var(--sys-white);
                                      border-width: 1px;  
                                      border-style: solid;         
                                      /*font-size: calc(var(--sys-font-size) + 2px);                            */
                                    }
            .sysTitle, .sysBack     {
                                  font-family    :    var(--sys-title-font-family   ); 
                                  font-size      :    var(--sys-title-font-size     );
                                  font-weight    :    var(--sys-title-font-weight   );
                                  font-style     :    var(--sys-title-font-style    );
                                  color          :    var(--sys-title-color         );
                                  text-align     :    var(--sys-title-text-align    );
                                  margin-top     :    var(--sys-title-margin-top    );
                                  margin-bottom  :    var(--sys-title-margin-bottom );
                                  margin-left    :    var(--sys-title-margin-left   );
                                  margin-right   :    var(--sys-title-margin-right  );
                                  padding-top    :    var(--sys-title-padding-top   );   
                                  padding-bottom :    var(--sys-title-padding-bottom);   
                                  padding-left   :    var(--sys-title-padding-left  );   
                                  padding-right  :    var(--sys-title-padding-right );
                                  line-height    :    var(--sys-title-line-height   ); 
                                  background-color:   var(--sys-title-background-color);
                        }
            .sysLargeButton         { font-size: 32px; }
            .sysButton, .sysLargeButton               {
                                  border-style   :  var(--sys-button-border-style);
                                  background-color: var(--sys-blueBg);
                                  color:            var(--sys-button-color);
                                  font-weight:      var(--sys-button-font-weight);
                                  margin-top     : 0px;
                                  margin-bottom  : 0px;
                                  margin-left    : var(--sys-button-margin-left   );
                                  margin-right   : var(--sys-button-margin-right  );
                                  padding-top    : var(--sys-button-padding-top   );  
                                  padding-bottom : var(--sys-button-padding-bottom);  
                                  padding-left   : var(--sys-button-padding-left  );   
                                  padding-right  : var(--sys-button-padding-right );
                                  border-radius  : 40px;
                                  border-style   : var(--sys-button-border-style);
                                  border-width   : var(--sys-button-borderWidth );
                        }
            .sysSelect              {
                                  font-family    :  var(--sys-desc-font-family   );
                                  color          :  var(--sys-button-color);
                                  background-color: var(--sys-blueBg);
                                  font-weight    :  var(--sys-button-font-weight);
                                  border-style   :  var(--sys-button-border-style);
                                  border-width   :  var(--sys-button-borderWidth );
                                  /*font-size:        var(--desc-txt-height); */
                              }
            .sysBack                {                                                        /* used? */
                                  content:            var(--sys-pointL);  
                                }
            .sysMargin              { margin-bottom  :    25px;                          }   /* used? */
            .sysCenter              { text-align:         center;
                                  align-content: center;
                                  align-items:   center;
                                }
            .sysTabBorder           { padding-left:       3px;
                                  margin-left:       3px;
                                  border-style:       solid none none solid;
                                  border-width:       1px;
                                  border-top-color:   var(--sys-yellow);
                                  border-left-color:  var(--sys-yellow);
                                }
            .sticky                 { position: fixed;
                                      top: 0;
                                      width: 100%;
                                      z-index:            2;
                                    }
            .sticky + .content      { padding-top:        60px; } /* jerk prevention */
            .userEditResult         { 
                float:                  left;
                width:                  100vw;
                padding:                3px; 
                border-style:           solid;
                border-color:           var(--sys-background-color);
                }
            .resize                 { resize:both;
                                      overflow:auto; } /* something other than visible */
            .resizeH                { resize:horizontal;
                                      overflow:auto; } /* something other than visible */
    </style>

</head>
<!-- ################################################################## -->
<!--                                HTML                                -->
<!-- ################################################################## -->
<body onload="bodyLoaded()">
<!-- ------------------------------------------------------------------ -->
<!--                            SPLASH SCREEN                           -->
<!-- ------------------------------------------------------------------ -->
<div id="splashScreen" hidden>                                          splash screen
    <div class="sysBlue sysFancy center">
        <em style="font-size: 60px;">                                   Jackie.Blue</em>
        <br><button class='sysLargeButton' onclick="hideId('splashScreen'); 
                                                    showEdit('');hideId('editStyle')">Show Editor</button>
        </div>
    </div>
<!-- ------------------------------------------------------------------ -->
<!--                            WAIT - WORKING ON IT ANIMATION          -->
<!-- ------------------------------------------------------------------ -->
<div id="wait">                                                         waiting
    <div class="center">
        <div style="font-size: 60px;">                                  WORKING INDICATOR...</div>
        <button class='sysLargeButton' onclick="log('-'); hideId('wait'); showId('splashScreen')">Show Splashscreen</button>
        </div>
    </div>
<!-- ------------------------------------------------------------------ -->
<!--                            SYSTEM EDIT MENU      - top left        -->
<!-- ------------------------------------------------------------------ -->
<div id='sysMenu' class="system sticky" hidden>
    <span style='width: 100%;'>
        <span onclick="showId('')"              class='sysTabBorder sysRed '>                Color Palette      </span> 
        <span onclick="showId('')"              class='sysTabBorder sysRed '>                New Element        </span> 
        <span onclick="showId('displayCSS')"    class='sysTabBorder sysRed '>                Generate CSS       </span>
        <span onclick="showId('')"              class='sysTabBorder sysBlue'>                How to             </span> 
        <span onclick="showId('')"              class='sysTabBorder sysBlue'>                Course             </span> 
        <span onclick="showId('')"              class='sysTabBorder sysBlue'>                About              </span> 
        </span>
    <copyright style='position: absolute; right: 10px;'class='sysFancy sysBlue' 
             onclick="hideId('gui-panel');hideId('sysMenu');showId('splashScreen')">    ¬© 2022 <em>Jackie.Blue </em></copyright>
    </div>
<!-- ------------------------------------------------------------------ -->
<!--                            EDITOR SECTION & DROP ZONE              -->
<!-- ------------------------------------------------------------------ -->
<div id='gui-panel' hidden class='userEditResult' ondragover="dropZone(event)" ondrop="dropElement(event)"
                           style='position: absolute; top: 25px; left: 0; width: 98vw; height: 80% ; z-index: 0; border: none;'>  
    <!-- -------------------------------------------------------------- -->
    <!--                        POPUPS                                  -->
    <!-- -------------------------------------------------------------- -->
    <div id='editStyle'      class='system' draggable="true" ondragstart='dragElement(event)' onmouseenter='moveToTop(event)' hidden
                             style=" z-index: 4; position: absolute; top: 20px; left: 30vw; width: 1000px" _zoriginal=4>
        <div class='splitGrid'>
            <span><span class='sysTitle' id='stylize_element'>Stylize </span><span class='sysTitle' id='edit_title'></span></span>
            <span class='close sysHover' style="text-align: right; padding-top: 12px;" onclick="hideId('editStyle')"> close ‚ùå </span>
            </div>
        <div id='edit-columns'></div>
        </div>
    <!-- -------------------------------------------------------------- -->
    <div id='attribute-popup' class='system resize' draggable='true' ondragstart='dragElement(event)' onmouseenter='moveToTop(event)' hidden
                             style="background-color: #100202; z-index: 6; position: absolute; top: 20px; left: 4vw; width: 1000px" _zoriginal=6 resizable>
                              <!-- style="z-index: 6; position: relative; width:1000px; padding:8px" >  -->
        <div class='splitGrid'>
            <span class='sysTitle' id='info_description'>Attribute Description</span>
            <span class='close sysHover' style="text-align: right; padding-top: 12px;" onclick="hideId('attribute-popup')"> close ‚ùå </span>
            </div>

        <!-- VALUES -->  <p>
            <div class='sysHeader sysCenter sysDesc'>          Values   </div>
            <div class='infoDescGrid'><span> Current  </span>  <span id='info_current'        class='sysRed'></span></div>
            <div class='infoDescGrid'><span> Undo     </span>  <span id='info_undo'           class='sysRed'></span></div>
            <div class='infoDescGrid'><span> initial  </span>  </div>
            <span id='info_initial'> </span>
            </p>
        <!-- USAGE -->   <p>
            <div class='sysHeader sysCenter sysDesc'>                                                    Usage   </div>
            <div class='infoUseGrid'><span>                                           name    </span> 
                                      <span id='info_attribute_name' class='sysYellow'>        </span>
                                      <span id='info-name-sample'>                             </span></div>
            <div class='infoUseGrid'><span                          class='sysRed'>   .style  </span> 
                                      <span id='info_style_name'     class='sysGreen'>         </span>
                                      <span id='info-style-sample'>                            </span></div>
            <div class='infoUseGrid'><span                          class='sysRed'>   var()   </span> 
                                      <span id='info_variable_name'  class='sysBlue'>          </span>
                                      <span id='info-var-sample'>                              </span></div>
            </p>
        <!-- HELP -->    <p>
            <div class='sysHeader sysCenter sysDesc'>          Help     </div>    <!-- search buttons title -->
            <div class="infoLinksGrid">
                <span   id='info_name'          class="sys-red"  >                </span>   <!-- filled in -->
                <button id='info_documentation' class='sysButton'> Specifications </button> <!-- bodyLoaded() sets onclicks --> 
                <button id='info_samples'       class='sysButton'> Samples        </button> 
                <button id='info_tutor'         class='sysButton'> Tutorials      </button> </div> 
            </p>
        <!-- OPTIONS --> <p>
            <div class='sysHeader sysCenter sysDesc'>          Attribute Options  </div>    <!-- attribute options search area -->
            <div id='info_options'></div>
            </p>
        </div>
    <!-- -------------------------------------------------------------- -->
    <div id="displayCSS"      class='system' draggable='true' ondragstart='dragElement(event)' onmouseenter='moveToTop(event)' hidden
                             style=" z-index: 100; position: absolute; top: 20px; left: 10px; width: 98%"  _zoriginal=8>
                              <!-- style='z-index: 8; position: relative; color: wheat; top:20px; left:0'>  -->
        <div class='splitGrid'>
            <span class="sysTitle">CSS</span>
            <span class='close sysHover' style="text-align: right; padding-top: 12px;" onclick="hideId('displayCSS')">    close ‚ùå </span>
        </div>
        <div class="sysHeader">Description</div>
        <div><p>The current layout and theme settings presented in CSS format for saving as a file, or cut and paste.</p></div>
        <div class="sysHeader">Instructions</div>
        <div>
            <ol>
                <li>Optionally select Root</li>
                <li>Or optionally select theme only and provide a Theme name</li>
                <li>Optionally select to also include .class statements</li>
                <li>Optionally edit the reults. Edits will only apply to your copy or save.</li>
                <li>Select Create to see any chnges</li>
                <li>Optionally edit the CSS results as needed</li>
                <li>Select Copy to the clipboard or Save as file</li>
            </ol>
            </div>
        <div>
            <span style="display: inline-block;">
                <input type="radio"    id='rootSelect'    name="themeNameSelect" checked>
                <label                for='rootSelect'>                             Root theme    </label><br>
                <input type="radio"    id='themeSelect'   name="themeNameSelect">
                <label                for='themeSelect'>                            Named theme    </label>
                <input type="text"  class='sysSelect'     name="themeNameSelect"><br>
                </span>
            <span style="display: inline-block;">
                <input type="checkbox" id='includeClass'  name="includeClasses"  checked>
                <label                for='includeClass'>                           Include .class</label><br>
                <input type="checkbox" id='includSystem'  name="includeClasses" >
                <label                for='includSystem'>                           Include separate system theme</label><p>
                </span>
            </div>
        <p>
            <button   class='sysButton sysDesc'>                                    Copy</button>
            <button   class='sysButton sysDesc'>                                    Save</button>
            </p>
        <textarea style="font-family: monospace; width: 100%; height: 50vh; padding: 8px">
        Sample of Future Generated Results
        
            :root   {
            --font-size:            24px;
            --font-weight:          400;
            --title-font-size:      24px;
            --title-font-weight:    400;
            }
            .body {
                font-size:          var(--font-size);
                font-weight:        var(--font-weight);
            }
            .title {
                font-size:          var(--title-font-size);
                font-weight:        var(--title-font-weight);
            }
            </textarea>
    
        </div>
<!-- ------------------------------------------------------------------ -->
<!--                           USER EDITABLE GUI ELEMENTS               -->
<!-- ------------------------------------------------------------------ -->
<div style='position: absolute; top: 25px; left: 0; width:  97vw; height: 100%; z-index: 0;'>
                                                                                            <!-- EDITABLE ELEMENTS   -->
            <div  onclick="showEdit('title')"      class='title'>   Title       </div>      <!-- Title       -->
            <div  onclick="showEdit('description')"class='desc'  >  Description </div>      <!-- Description -->
            <span onclick="showEdit('')">                                                   <!-- Defaults    -->
                <hr>
                <ol><li>Click on an element such as 'Title' or here to edit its style.</li>  
                    <li>Then click on More Info to research any of the style properties.</li></ol>
                <b>Undo</b>
                <p>The undo button describes the current values before changes.
                Changed values become lost and permenent when another element is edited.
                Changed values will become the new undo values when this element is edited again. </p>
                <ul>
                    <li>ALL CAP FONT EXAMPLE                    </li>
                    <li>all lowercase font example: qpdbghytjif </li>
                    <li>Number &gt; 0O  &lt; letter compare     </li>
                    <li>Number &gt; 1lL &lt; letters compare    </li>
                    <li>HEX Sample: #b6a0f5                     </li>
                </ul>
                <p>Let's create something nice today.  Even nicer than yesterday.  
                Perhaps lighter with an nice contrast.</p>
                </span>
                </div>

</div> <!-- end id=gui-panel & Popup drop zone -->

<!-- ################################################################## -->
<!--                             JAVASCRIPT                             -->
<!-- ################################################################## -->
<script type="text/javascript">
    // console.clear();

    // const info_description = document.getElementById('info_description');

    const theme     = 'data-theme';
// ==============================================================
// save objects - Save and restore user settings and attributes on page repoad

    var   user   = { classNames: [],         // GUI input created class_name names  --'class_name'-attribute-name
                     root:       [],         // attribute change records (themes.css overrides)
                     settings:   [] }        // site settings - TBD
    class PAIR     { name = '';  val = '' }  // generic name value pair for root records

// ==============================================================
// function() PARAMETERS
// ---------------------
// attr_ctrl - Object having an attribute description, limits, attribute values, default value..
// class_name   - Current attribute variable name prefix like 'myTitle' to represent a unique CSS .class, tag name, etc. 
//             i.e. .title { font-size: var(--title-font-size) } | unspecified class_name = var(--font-size)
// var_name  - full :root variable name composed of passed class_name and attribute name.  i.e. --title-font-size
//
// Modify    - Optionally add a unique name to class_names[array] to generate --uniqueName-attribute-name variables in CSS :root
//           - Class names created using the GUI input are saved in users local storage and restored on page reload 
//           - Use generate CSS theme option to display ALL current variables and values
//           - The generated theme can then be copied into your CSS.  

    const class_names   = ['body', 'title', 'description', 'subtitle', 'button', 'input', 'radio', 'checkbox', 'textarea', 'div', 'span', ]; // ==> --title-font-size, --desription-font-size

                          // html5 - 'y' supported, 'n' removed in html5 , 'p' partial support
    const tag_ctrls     = [ {tag: 'a',              html5:'y', desc: 'Hyperlink to other web pages or information' }, 
                            {tag: 'abbr',           html5:'y', desc: 'Abbreviation style' }, 
                            {tag: 'acronym',        html5:'n', desc: 'Acronym style' }, 
                            {tag: 'address',        html5:'y', desc: 'Address information style' }, 
                            {tag: 'applet',         html5:'n', desc: 'Embedded applet' }, 
                            {tag: 'area',           html5:'y', desc: 'Define an area within an image <map>' }, 
                            {tag: 'article',        html5:'y', desc: 'Artical styled element' }, 
                            {tag: 'audio',          html5:'y', desc: 'Audio element' }, 
                            {tag: 'b',              html5:'y', desc: 'Bold text' }, 
                            {tag: 'base',           html5:'y', desc: 'Use a common base URL for links' }, 
                            {tag: 'basefont',       html5:'n', desc: 'Set a default text font face, size, color' }, 
                            {tag: 'bb',             html5:'p', desc: 'Browser command' }, 
                            {tag: 'bdo',            html5:'y', desc: 'Set text dirction for various languages' }, 
                            {tag: 'big',            html5:'n', desc: 'Larger text' }, 
                            {tag: 'blockquote',     html5:'y', desc: 'Long quotation' }, 
                            {tag: 'body',           html5:'y', desc: '<HTML> main section for website HTML elements' },
                            {tag: 'br',             html5:'y', desc: 'Line Break, new line' }, 
                            {tag: 'button',         html5:'y', desc: 'User action button' }, 
                            {tag: 'canvas',         html5:'y', desc: 'Section for SVG graphics' }, 
                            {tag: 'caption',        html5:'y', desc: '<table> caption' }, 
                            {tag: 'center',         html5:'n', desc: 'Center align text' }, 
                            {tag: 'cite',           html5:'y', desc: 'Citation reference' }, 
                            {tag: 'code',           html5:'y', desc: 'Text styling for sample code' }, 
                            {tag: 'col',            html5:'y', desc: 'A column within a <colgroup>' }, 
                            {tag: 'colgroup',       html5:'y', desc: 'Table column group' }, 
                            {tag: 'command',        html5:'y', desc: 'Command button' }, 
                            {tag: 'datagrid',       html5:'p', desc: 'Tree or list data in <datalist>' }, 
                            {tag: 'datalist',       html5:'y', desc: '<input> pre-defined options' }, 
                            {tag: 'dd',             html5:'y', desc: 'Definition description' }, 
                            {tag: 'del',            html5:'y', desc: 'Deleted text' }, 
                            {tag: 'details',        html5:'y', desc: 'Additional details often for hide and show' }, 
                            {tag: 'dfn',            html5:'y', desc: 'Definition team' }, 
                            {tag: 'dialog',         html5:'p', desc: 'Chat with remote users' }, 
                            {tag: 'dir',            html5:'n', desc: 'Directory list' }, 
                            {tag: 'div',            html5:'y', desc: 'Element container, often having display:block taking 100% of the horizontal width' }, 
                            {tag: 'dl',             html5:'y', desc: 'Definition list' }, 
                            {tag: 'dt',             html5:'y', desc: 'Definition team' }, 
                            {tag: 'em',             html5:'y', desc: 'Text Emphasize - italic, normal' }, 
                            {tag: 'embed',          html5:'y', desc: 'Embed external application code' }, 
                            {tag: 'eventsource',    html5:'p', desc: 'Persistant server events connection' }, 
                            {tag: 'fieldset',       html5:'y', desc: 'Related group of <form> elements' }, 
                            {tag: 'flgcaption',     html5:'y', desc: '<figure> caption text' }, 
                            {tag: 'figure',         html5:'y', desc: 'Self contained <figcaption> related content' }, 
                            {tag: 'font',           html5:'n', desc: 'Set font, font size, color' }, 
                            {tag: 'footer',         html5:'y', desc: 'Web page footer section content holder' }, 
                            {tag: 'form',           html5:'y', desc: 'Group (name="sameName") of user input elements used for server requests' },
                            {tag: 'frame',          html5:'n', desc: 'Window frame' }, 
                            {tag: 'frameset',       html5:'n', desc: 'Holds one or more <frame> elements' }, 
                            {tag: 'h1',             html5:'y', desc: 'Heading level 1 - Largest text size' }, 
                            {tag: 'h2',             html5:'y', desc: 'Heading level 2 - text size' }, 
                            {tag: 'h3',             html5:'y', desc: 'Heading level 3 - text size' }, 
                            {tag: 'h4',             html5:'y', desc: 'Heading level 4 - text size' }, 
                            {tag: 'h5',             html5:'y', desc: 'Heading level 5 - text size' }, 
                            {tag: 'h6',             html5:'y', desc: 'Heading level 6 - Smallest text size' }, 
                            {tag: 'head',           html5:'y', desc: 'HTML header section' }, 
                            {tag: 'header',         html5:'y', desc: 'Often introductuctory or menu item section' }, 
                            {tag: 'hgroup',         html5:'p', desc: 'h1 to h6 section heading ' }, 
                            {tag: 'hr',             html5:'y', desc: 'Horizontal rule as a visual section separator "<hr />"' }, 
                            {tag: 'html',           html5:'y', desc: 'Hyper Text Markup Language document' }, 
                            {tag: 'i',              html5:'y', desc: 'Italic text' }, 
                            {tag: 'iframe',         html5:'y', desc: 'Separate web page display area' }, 
                            {tag: 'img',            html5:'y', desc: 'Image' }, 
                            {tag: 'input',          html5:'y', desc: 'Obtain user input' }, 
                            {tag: 'ins',            html5:'y', desc: 'Web page inserted text' }, 
                            {tag: 'isindex',        html5:'n', desc: 'Web document search prompt' }, 
                            {tag: 'kbd',            html5:'y', desc: 'Keyboard input style' }, 
                            {tag: 'keygen',         html5:'p', desc: 'Generate signed certificate for server authetication' }, 
                            {tag: 'label',          html5:'y', desc: 'Form input lable' }, 
                            {tag: 'legend',         html5:'y', desc: 'Form caption title' }, 
                            {tag: 'li',             html5:'y', desc: 'Ordered or unorderder list item' }, 
                            {tag: 'link',           html5:'y', desc: 'External stylesheet reference' }, 
                            {tag: 'map',            html5:'y', desc: 'Clickable image map' }, 
                            {tag: 'mark',           html5:'y', desc: 'Text highlight' }, 
                            {tag: 'menu',           html5:'y', desc: 'Unordered menu list' }, 
                            {tag: 'meta',           html5:'y', desc: 'Web page meta data' }, 
                            {tag: 'meter',          html5:'y', desc: 'Measure range of information' }, 
                            {tag: 'nav',            html5:'y', desc: 'Group of navigation links' }, 
                            {tag: 'noframes',       html5:'n', desc: 'No frame support fallback' }, 
                            {tag: 'noscript',       html5:'y', desc: 'No javaScript support fallback' },          
                            {tag: 'object',         html5:'y', desc: 'Embedded object' }, 
                            {tag: 'ol',             html5:'y', desc: 'Number ordered list' }, 
                            {tag: 'optgroup',       html5:'y', desc: 'Drop-down selection list option group' }, 
                            {tag: 'option',         html5:'y', desc: 'Drop-down selection list option' }, 
                            {tag: 'output',         html5:'y', desc: 'Calculation result style' }, 
                            {tag: 'p',              html5:'y', desc: 'Paragraph' }, 
                            {tag: 'param',          html5:'y', desc: 'Embedded object parameters' }, 
                            {tag: 'pre',            html5:'y', desc: 'Preformatted text' }, 
                            {tag: 'progress',       html5:'y', desc: 'Represent task progress' }, 
                            {tag: 'q',              html5:'y', desc: 'Quotation' }, 
                            {tag: 'rp',             html5:'y', desc: 'No Ruby fallback content' }, 
                            {tag: 'rt',             html5:'y', desc: 'Ruby text' }, 
                            {tag: 'ruby',           html5:'y', desc: 'Ruby annotation' }, 
                            {tag: 's',              html5:'y', desc: 'Text strikethrough' }, 
                            {tag: 'samp',           html5:'y', desc: 'sample program output style' }, 
                            {tag: 'script',         html5:'y', desc: 'client side javaScript source' }, 
                            {tag: 'section',        html5:'y', desc: 'Document section divider' }, 
                            {tag: 'select',         html5:'y', desc: 'Drop-down selection list' }, 
                            {tag: 'small',          html5:'y', desc: 'Text one size smaller' }, 
                            {tag: 'source',         html5:'y', desc: 'Media resource' }, 
                            {tag: 'span',           html5:'y', desc: 'Inline container of more <HTML> elements' }, 
                            {tag: 'strike',         html5:'n', desc: 'Text strikethrough' }, 
                            {tag: 'strong',         html5:'y', desc: 'Emphasize text' }, 
                            {tag: 'style',          html5:'y', desc: 'CSS Styles container' }, 
                            {tag: 'sub',            html5:'y', desc: 'Subscript text' }, 
                            {tag: 'sup',            html5:'y', desc: 'Superscript text' }, 
                            {tag: 'table',          html5:'y', desc: 'Table' }, 
                            {tag: 'tbody',          html5:'y', desc: 'Table body' }, 
                            {tag: 'td',             html5:'y', desc: 'Table cell' }, 
                            {tag: 'textarea',       html5:'y', desc: 'Multi-line text inpu' }, 
                            {tag: 'tfoot',          html5:'y', desc: 'Table footer' }, 
                            {tag: 'th',             html5:'y', desc: 'Table cell group header' }, 
                            {tag: 'thead',          html5:'y', desc: 'Table header' }, 
                            {tag: 'time',           html5:'y', desc: 'The date and/or time' },
                            {tag: 'title',          html5:'y', desc: 'HTML document Title' }, 
                            {tag: 'tr',             html5:'y', desc: 'A row of cells in a table' },
                            {tag: 'track',          html5:'y', desc: 'Text tracks for both the <audio> and <video> tags' }, 
                            {tag: 'tt',             html5:'n', desc: 'Teletype text' }, 
                            {tag: 'u',              html5:'y', desc: 'Underlined text' }, 
                            {tag: 'ul',             html5:'y', desc: 'An unordered bullet list of items' }, 
                            {tag: 'var',            html5:'y', desc: 'A variable in a computer program or mathematical equation' }, 
                            {tag: 'video',          html5:'y', desc: 'Embed video content' }, 
                            {tag: 'wbr',            html5:'y', desc: 'Denotes a word break opportunity in a long string of text' } 
                            ]                       


    // TO BE DONE - genEdit() HTML control generator currently uses the following list to generate example test controls. 
        //              Each attribute control object 'attr_ctrl' is reusable for attributes having the same options or limits.
        //              Non unique control fields will be moved to a full attribute variable list for genEdit() processing
        //              The future full attribute list will reference an appropriate 'attr_ctrl' below. 
        //              Defaults are unique to a browser and may differ between elements - future resolution

    const attr_ctrls = [                                                                                               // unique controls 
        // attr_ctrl parameter table array                                                       
        // A table entry for each attribute providing needed information and controls for: 
        // 1. Generating HTML elements for changing attribute values      - genEdit()
        // 2. Creating and modifying the :root attribute variable value   - chgAttr() 

        // -------------- COLUMNS ---------------
        // attr         - HTML DOM object attribute name
        // description  - Attribute description
        // default      - browser or element atrribute default value
        // style        - obj.style.attribute name for javascript reference
        // type         - used to detect no option processing such as a color picker instead
        // options      - attribute options list, what the attribute can be set to
        // min,max,inc  - numeric limits and increment amount
        // suffix       - numeric suffix options like 'px' 'fr'

        { attr: 'color',           description: 'Text, Font Color',   default: [],  style: 'color',            type: 'color' },
        { attr: 'background-color',description: 'Background Color',   default: [],  style: 'backgoundColor',   type: 'color' },
        { attr: 'font-size',       description: 'Text, Font Size',    default: [],  style: 'fontSize',         min: 4,  max:200,  inc: 2,    

                                        suffix: ['', 'px', 'em', 'rem', 'ex', 'vh', 'vw', 'vmin', 'vmax', 'lh', '%', 'pt', 'pc', 'cm', 'mm', 'q', 'in', 'fr'] },
        { attr: 'font-family',     description: 'Text, Font Family',  default: [],  style: 'fontFamily',       options: [ 'monospace', 'Lucida Console', 'Lucida Sans Unicode', 
                          'Microsoft Sans Serif','Segoe UI', 'Arial', 'Tahoma',   
                          'Candara', 'Copperplate Gothic', 'Malgun Gothic', 'system-ui', 
                          'Trebuchet MS', 'Helvetica', 'Corbel', 'Calibri', 'Bahnschrift',
                          'Gabriola', 'Segoe Print', 'Segoe Script',
                          'Comic Sans MS', 'cursive', 'Ink Free', 'Impact', 'fantasy', 'Webdings', 'Wingdings', 'Symbol' ] },
        { attr: 'font-style',      description: 'Text, Font Style',   default: [],  style: 'fontStyle',        options: [ 'italic', 'normal'] },
        { attr: 'font-weight',     description: 'Text, Font Weight',  default: [],  style: 'fontWeight',       options: [ '100', '400', '700', '900', 'inherit' ] },
        { attr: 'line-height',     description: 'Text, Line Height',  default: [],  style: 'lineHeight',       min: 1, max: 999, inc: 0.2,   

                                        suffix: ['', 'px', 'em', 'rem', 'ex', 'vh', [], 'vmin', 'vmax', 'lh', '%', 'pt', 'pc', 'cm', 'mm', 'q', 'in', 'fr'] },
        { attr: 'margin',          description: 'Outer Margin Element Gap',default: [],  style: 'margin',      min: 0,   max:1000,  inc: 2,  

                                        suffix: ['', 'px', 'em', 'rem', 'ex', 'vh', 'vw', 'vmin', 'vmax', 'lh', '%', 'pt', 'pc', 'cm', 'mm', 'q', 'in', 'fr'] },
        { attr: 'text-shadow',     description: 'Text Shadow',        default: [],  style: 'textShadow',       min:-20 , max:20 ,   inc:1 ,  

                                        suffix: ['', 'px', 'em', 'rem', 'ex', 'vh', 'vw', 'vmin', 'vmax', 'lh', '%', 'pt', 'pc', 'cm', 'mm', 'q', 'in', 'fr'] },
        { attr: 'overflow',        description: 'Text Clip or Scroll',default: [],  style: 'overflow',         options: ['hidden', 'visable', 'scroll', 'auto'] },
        { attr: 'overflow-wrap',   description: 'Word Break Where',   default: [],  style: 'overflowWrap',     options: ['normal', 'anywhere', 'break-word'] },
        { attr: 'word-wrap',       description: 'Order overflow-wrap',default: [],  style: 'wordWrap',         options: ['normal', 'anywhere', 'break-word'] },
        { attr: 'word-break',      description: 'Asian focused word breaks', default: [], style: 'wordBreak',  options: ['normal', 'break-all', 'keep-all', 'break-word'] },
        { attr: 'writing-mode',    description: 'Page Orientationn',  default: [],  style: 'writingMode',      options: ['vertical-rl', 'horizontal-tb'] },
        { attr: 'overflow-x',      description: 'Left Right Overflow',default: [],  style: 'overflowX',        options: ['hidden', 'visable', 'scroll', 'auto'] },
        { attr: 'overflow-y',      description: 'Top Bottom Overflow',default: [],  style: 'overflowY',        options: ['hidden', 'visable', 'scroll', 'auto'] },
        { attr: 'word-space',      description: 'Word Spacing',       default: [],  style: 'wordSpace',        min: 0, max: 20, inc: 1,      

                                        suffix: ['', 'px', 'em', 'rem', 'ex', 'vh', 'vw', 'vmin', 'vmax', 'lh', '%', 'pt', 'pc', 'cm', 'mm', 'q', 'in', 'fr'] }
        // { attr: '',           description: '',       default: '',   style: '',  type: '', min: , max: , inc: , options: ['',] },
        // { attr: '',           description: '',       default: '',   style: '',  type: '', min: , max: , inc: , options: ['',] },
        // { attr: '',           description: '',       default: '',   style: '',  type: '', min: , max: , inc: , options: ['',] },
        // { attr: '',           description: '',       default: '',   style: '',  type: '', min: , max: , inc: , options: ['',] },
        // { attr: '',           description: '',       default: '',   style: '',  type: '', min: , max: , inc: , options: ['',] },
        // { attr: '',           description: '',       default: '',   style: '',  type: '', min: , max: , inc: , options: ['',] },
        // { attr: '',           description: '',       default: '',   style: '',  type: '', min: , max: , inc: , options: ['',] },
        // { attr: '',           description: '',       default: '',   style: '',  type: '', min: , max: , inc: , options: ['',] },
        // { attr: '',           description: '',       default: '',   style: '',  type: '', min: , max: , inc: , options: ['',] },
        ]

    // OLD attr_ctrls Limits Parameters for reference
            // const textBlur   = { min:   0, max: 60, inc: 2, suffix: 'px' }  // blur radius
            // const textOverflow = [ 'ellipsis', ' cont...', ' ..more.. ', '', 'clip' ]            // text-overflow: 
 

// ==============================================================
// genEdit() - Create and display attribute edit control knobs for changing the current style attribute values of a clicked HTML element

    // PURPOSE: Create and display attribute edit controls and values for a clicked HTML element. id='edit_controls'
    // 
    // 
    // FLOW :   ,----------------------------------------------------------------------------------
    //          | onclick() - click  an editable user HTML element like 'Title' was clicked
    //          |           - calls  showEdit() event handler
    //          | ,--------------------------------------------------------------------------------
    //          | | showEdit() - event handler
    //          | |            - show  edit controls popup HTML element id='edit_controls' previously hidden
    //          | |            - save  any prior element changes recorded in the 'user' object by chgAttr()
    //          | |            -       to local stroage in event of page refresh that will restore saved changes
    //          | |            - call  genEdit()
    //          | | ,------------------------------------------------------------------------------
    //          | | | genEdit() - generate  column header html DOM elements for the browser to display
    //          | | |           - loop      on all attr_ctrl's in the attr_ctrls array :
    //          | | |           -           call genEditHTML() for each attr_ctrl (attribute) 
    //          | | | ,---------------------------------------------------------------------------- 
    //          | | | | genEditHTML() - generate  
    //          | | | |               -
    //          | | | |               -
    //          | | | |               -
    //          | | | |               -
    //          | | | |               -

    // ONCLICK EVENT HANDLER

    function showEdit(class_name) {

        // hideId('gui-panel');
        // showId('wait');

        log('\nshowEdit('+class_name+')');

        save();             // save any prior element changes to local storage in the event of page refreash and restore changes
        showId('sysMenu');  // show system menu on top
        genEdit(class_name);   // generate HTML controls for editing new class_name element attribute values
        showId('editStyle');
        }

    // GEN HEADER + LOOP ALL ATTRIBUTES

    function genEdit(class_name) {                                 // create all edit controls and attributes for a specified element
        log('\ngenEdit() element class_name: '+class_name);           // --font-size, OR --title-font-size, OR --footer-font-size 

            // initialize control columns to empty

        let columns = document.getElementById('edit-columns'); 
        columns.innerHTML = '';                                 // clear all prior element controls including grid elements
        columns.style.setProperty('color', 'var(--sys-white)', 'important'); // set title text color with important inheirit override

        let header = newDOM(columns,'DIV');
        setClass(header,'editColumnsGrid');

            // initialize control area headers

        let header_column       = newDOM(header,'SPAN');
        setClass(header_column,'sysDesc', 'on');    // font style
        setClass(header_column,'sysHeader', 'on');  // background color
        header_column.style.setProperty('background-color', 'var(--sys-header-background-color)', 'important');
        header_column.innerHTML = 'More Info';

        header_column           = newDOM(header,'SPAN');
        setClass(header_column,'sysDesc', 'on');    // font style
        setClass(header_column,'sysHeader', 'on');  // background color
        header_column.style.setProperty('background-color', 'var(--sys-header-background-color)', 'important');

        let title               = document.getElementById('edit_title');
        // let title               = newDOM(header_column,'SPAN');
        // title.id                = 'edit_title';
        if (class_name == '' || class_name.toUpperCase() == 'BODY') { 
                  title.innerHTML = 'BODY' }                // no unique css class or tag overide  --font-size 
        else    { title.innerHTML = class_name.toUpperCase() } // display class_name {title, div, etc}   --title-font-size

        header_column           = newDOM(header,'SPAN');
        setClass(header_column,'sysDesc', 'on');  // font
        setClass(header_column,'sysHeader', 'on');  // background color
        header_column.style.setProperty('background-color', 'var(--sys-header-background-color)', 'important');
        header_column.innerHTML = 'Changes';

            // loop - display all attribute control knobs for editing

        for (let attr = 0; attr < attr_ctrls.length; attr++) {     
            genEditHTML(attr_ctrls[attr], class_name);         }  // call genEditAttrs for each css attribute found in attr_ctrls table

        hideId('wait');
        showId('gui-panel');
        }

    // ATTRIBUTE PROCESSOR

    function genEditHTML(attr_ctrl, class_name) {                 // create edit controls and results for one css attribute
        log('----------- loop\ngenEditAttrs('+attr_ctrl.attr+', '+class_name+')');

            // construct the attribute class_name root variable name

        let                    var_name  = '--'+attr_ctrl.attr;               // i.e. attribute var_name = '--font-size'
        if (passed(class_name)) { var_name  = '--'+class_name+'-'+attr_ctrl.attr }  // i.e. attribute var_name = '--title-font-size'
        log(' root variable name: '+var_name);
        // log(attr_ctrl);

        // Create HTML edit control knobs, descriptions, & values 

        let description, knobs, color_picker, values, output;

        let columns = document.getElementById('edit-columns');

        let row = newDOM(columns, 'DIV');
        setClass(row,'editColumnsGrid');
        setClass(row, 'sysHover', 'on');

        // attribute description column with info popups  ('Color', 'Background Color', 'Border Color', etc.)               col 1 INFO

        description              =  newDOM(row, 'DIV');   // create attribue descriptor as grid column 1  
        description.innerHTML    =  '<span width=100>'+attr_ctrl.description+'</span>';    // display attributes description
        description._attr_ctrl   =  attr_ctrl;
        description._var_name    =  var_name;
        description.style.cursor =  'pointer';
        description.style.justifyItems = 'stretch';
        description.style.setProperty('font-family', 'var(--sys-fancy)', 'important'); //  set font_family
        description.onclick      =  function (e) {
                                        let elem = e.currentTarget;
                                        log('\nonClick() '+elem._var_name+' '+elem._attr_ctrl.attr); 
                                        attribute_info_popup(elem._var_name, elem._attr_ctrl); // desc last
                                        }
        setClass(description, 'sysButton');

        // attribute edit controls column                                                                                   col 2 CONTROL KNOBS

        switch(attr_ctrl.type) {
            case 'color': 

                    // Control Knobs column

                    knobs                   = newDOM(row, 'DIV');   // create attribue edit buttons as grid column 2

                    // Color Picker HTML

                    color_picker            = newDOM(knobs, 'INPUT');   // color control button on right
                    color_picker.type       = 'color';                  // set input dom type
                    color_picker.id         = var_name+'_color';        // set id for javascript reference
                    color_picker._attr_ctrl = attr_ctrl;                //? save attr_ctrl in color picker object for needed onchage() reference
                    color_picker._var_name  = var_name;
                    log(' current root color: '+getRoot(var_name).replace(/\s/g,''))
                    if (exist(getRoot(var_name).replace(/\s/g,''))) {
                        color_picker.value  = getRoot(var_name).replace(/\s/g,'');   // get current attribute value from :root --variable
                        color_picker.defaultValue = color_picker.value;            } // set picker to current color                    
                    setClass( color_picker, 'sysInput' );                                      
                    color_picker.onchange   = function(e) { 
                                                let colorPicker = e.currentTarget;
                                                chgAttr(colorPicker._var_name,colorPicker._attr_ctrl, 'save', colorPicker.value);  } 
                    // Undo button HTML

                    let undo_button         = newDOM(knobs, 'SPAN');                   
                    setClass( undo_button, 'sysButton' );               // assign style as button class
                    undo_button.innerHTML   = 'undo';                   // display button name
                    undo_button._attr_ctrl  = attr_ctrl;                // save attr_ctrl in color picker object for needed onchage() reference
                    undo_button._class_name = class_name;
                    undo_button._var_name   = var_name;
                    undo_button._valueName  = getRoot(var_name);        // get current attribute value from :root --variable
                    undo_button.onclick     = function(e) { 
                                                let undoButton = e.currentTarget; 
                                                chgAttr( undoButton._var_name,    undoButton._attr_ctrl,      'save', undoButton._valueName)  }
                    // Transparant button HTML

                    let trans_button        = newDOM(knobs, 'SPAN');                   
                    setClass( trans_button, 'sysButton' );              // assign style as button class
                    trans_button.innerHTML  = 'transparent';            // display button name 
                    trans_button._attr_ctrl = attr_ctrl;                // save attr_ctrl in color picker object for needed onchage() reference
                    trans_button._class_name= class_name;
                    trans_button._var_name  = var_name;
                    trans_button.onclick    = function(e) { 
                                                let transButton = e.currentTarget; 
                                                chgAttr( transButton._var_name,    transButton._attr_ctrl,      'save', 'transparent')  } 
                    break;

            default:      log('default');
                    ctrl_knobs      = newDOM(row, 'DIV');     
                    description.style.setProperty('font-family', 'var(--sys-fancy)', 'important'); // overide font family 
                    // setClass(description, 'sysFancy');

                    // NUMBER VALUE PASSED
                    if (exist(attr_ctrl.min)) {                   // number - create buttons & measurement suffix 
                        log('numeric values');
                        let up_button       = newDOM(ctrl_knobs, 'SPAN');      //  for changing numeric attribute values
                        let down_button     = newDOM(ctrl_knobs, 'SPAN');
                        let undo_button     = newDOM(ctrl_knobs, 'SPAN');
                        let default_button  = newDOM(ctrl_knobs, 'SPAN');
                        setClass(     up_button,    'sysButton' );
                        setClass(   down_button,    'sysButton' );                    
                        setClass(   undo_button,    'sysButton' );
                        setClass(default_button,    'sysButton' );
                             up_button.innerHTML    = 'ü†ù';                    // display button text
                           down_button.innerHTML    = 'ü†ü';                    // ü†ù ü†ü ü†ú ü†û
                           undo_button.innerHTML    = 'undo'; 
                        default_button.innerHTML    = 'default';
                             up_button._attr_ctrl   = attr_ctrl;              // make 'attr_ctrl' object accessable
                           down_button._attr_ctrl   = attr_ctrl;              //   to onClickk function below //? a standard way to pass vars?
                           undo_button._attr_ctrl   = attr_ctrl;
                        default_button._attr_ctrl   = attr_ctrl;
                             up_button._class_name     = class_name;                // make 'class_name' variable accessable
                           down_button._class_name     = class_name;                //   to onChange function below
                           undo_button._class_name     = class_name;
                        default_button._class_name     = class_name;
                             up_button._var_name    = var_name;               // make class_name variable name accessable
                           down_button._var_name    = var_name;               //   to onChange function below
                           undo_button._var_name    = var_name;
                        default_button._var_name    = var_name;
                           undo_button._prior_val   = getRoot(var_name).toString();
                        default_button._default_val = attr_ctrl.default;
                        warn('attr: '+attr_ctrl.attr+', undo: '+undo_button._prior_val+', default: switch to element default');

                        up_button.onclick   = 
                            function(e) {                                    // DOM.attr_ctrl & 
                                            let upButton      = (e.currentTarget); //? test using 'this' 
                                            chgAttr( upButton._var_name,      upButton._attr_ctrl,    'increment', upButton._class_name)      } 
                        down_button.onclick = 
                            function(e) { 
                                            let downButton    = e.currentTarget; 
                                            chgAttr( downButton._var_name,    downButton._attr_ctrl,  'decrement', downButton._class_name)    } 
                        undo_button.onclick = 
                            function(e) { 
                                            let undoButton    = e.currentTarget; 
                                            chgAttr( undoButton._var_name,    undoButton._attr_ctrl,  'save', undoButton._prior_val)       } 
                        default_button.onclick = 
                            function(e) { 
                                            let defaultButton = e.currentTarget; 
                                            chgAttr( defaultButton._var_name, defaultButton._attr_ctrl,'save', defaultButton._default_val) }

                        // get current numeric suffix in use
                        let currentValue = getRoot(var_name).toString().replace(/[0-9,\s]/g,'');
                        log(' current '+var_name+' suffix: ['+currentValue+']');

                        // select
                        let suffixElem  = newDOM(ctrl_knobs, 'SELECT');
                        setClass(suffixElem, 'sysSelect' );
                        let optionElement; 
                        for (let suffixValue of attr_ctrl.suffix) {
                            // log('create suffix option: ['+suffixValue+']');
                            optionElement = newDOM(suffixElem, 'OPTION');
                            optionElement.innerHTML = suffixValue;
                            setClass(optionElement, 'sysSelect'); 
                            if (suffixValue == currentValue) { optionElement.selected = true; log(suffixValue+' < selected')}
                            }
                        } // if number

                    // OPTION LIST PASSED    
                    if (exist(attr_ctrl.options)) {               // list   - create attribute options selector   
                        let up_button       = newDOM(ctrl_knobs, 'SPAN');        // UP     - DOM object
                        let down_button     = newDOM(ctrl_knobs, 'SPAN');        // DOWN   - DOM object
                        let undo_button     = newDOM(ctrl_knobs, 'SPAN');        // UNDO   - DOM object
                        let default_button  = newDOM(ctrl_knobs, 'SPAN');        // DEFAULT- DOM object
                        let options_select  = newDOM(ctrl_knobs, 'SELECT');

                        // set new control knobs attributes and values
                        setClass(     up_button,    'sysButton' );               // set classes in system element
                        setClass(   down_button,    'sysButton' );                    
                        setClass(   undo_button,    'sysButton' );
                        setClass(default_button,    'sysButton' );
                             up_button.innerHTML    = 'ü†ù';                       // display button text
                           down_button.innerHTML    = 'ü†ü';                       // ü†ù ü†ü ü†ú ü†û
                           undo_button.innerHTML    = 'undo'; 
                        default_button.innerHTML    = 'default';
                             up_button._attr_ctrl   = attr_ctrl;                 // store attributes parameters for event functions
                           down_button._attr_ctrl   = attr_ctrl;                 
                           undo_button._attr_ctrl   = attr_ctrl;
                        default_button._attr_ctrl   = attr_ctrl;
                             up_button._class_name     = class_name;                   
                           down_button._class_name     = class_name;                   
                           undo_button._class_name     = class_name;
                        default_button._class_name     = class_name;
                             up_button._var_name    = var_name;                  
                           down_button._var_name    = var_name;                  
                           undo_button._var_name    = var_name;
                        default_button._var_name    = var_name;
                           undo_button._prior_val   = getRoot(var_name).toString(); // make prior & default values accessable
                        default_button._default_val = attr_ctrl.default;

                        log(' attr: '+attr_ctrl.attr+', undo: '+undo_button._prior_val+', default: '+default_button._default_val);

                        // set button to call chgAttr() to change an attritute value
                        up_button.onclick      = function(e) { // DOM.attr_ctrl & 
                                                    let upButton      = (e.currentTarget); //? test using 'this' as ref to currentTarget 
                                                    log('onchange() upButton')
                                                    chgAttr( upButton._var_name,      upButton._attr_ctrl,      'increment', upButton._class_name)   } 
                        down_button.onclick    = function(e) { 
                                                    let downButton    = e.currentTarget; 
                                                    chgAttr( downButton._var_name,    downButton._attr_ctrl,    'decrement', downButton._class_name) } 
                        undo_button.onclick    = function(e) { 
                                                    let undoButton    = e.currentTarget; 
                                                    chgAttr( undoButton._var_name,    undoButton._attr_ctrl,    'save',      undoButton._prior_val) } 
                        default_button.onclick = function(e) { 
                                                    let defaultButton = e.currentTarget; 
                                                    chgAttr( defaultButton._var_name, defaultButton._attr_ctrl, 'save',      defaultButton._default_val) } 

                        // generate all attribute options
                        setClass(options_select, 'sysSelect');
                        for (option_ix=0; option_ix<attr_ctrl.options.length; option_ix++) {
                            let option          = newDOM(options_select, 'OPTION');
                            option.innerHTML    = attr_ctrl.options[option_ix];
                            setClass(option, 'sysSelect');
                            if (attr_ctrl.attr == 'font-family') { option.style.fontFamily = attr_ctrl.options[option_ix]}
                            }
                        } 
  
            } // end specific cases switch 

        // changed attribute column - display '.' as placeholder for changed attribute values                               col 3 CHANGES

        values               = newDOM(row, 'DIV');            // right side div - attribue changed value 
        output               = newDOM(values,         'SPAN');    // attribute changed value on right
        output.innerHTML     = '.';                               // empty character until changed
        output.id            = attr_ctrl.attr+'_change';          // set id for javascript reference
        // setClass(output,'sysText');                               // style value as system text
        setClass(output,'sysRed');                                // style value using system color
        setClass(output,'selectText');                            // make value selectable for cut and paste     

        return;
        }

// ==============================================================
// chgAttr() onclick, onchange event - Create or update an attributes style :root --variable value 

    function chgAttr(var_name, attr_ctrl, command, multiParm) {
        // class_name  - full attribute variable name i.e. --font-size, --title-font-size
        // attr_ctrl   - an entry from attr_ctrls[] with create and change controls, limits, options..
        // command     - 'save' the passed value, or 'incr', 'decr' a number or option array value   
        // multiParm   - a value to save or TBD
        log('\nchgAttr('+var_name+', '+attr_ctrl.attr+', '+command+', '+multiParm+')');
        let val, nuVal, ix;

        // SAVE PASSED VALUE FOR RELOADs
        if (command == 'save')   { // SAVE PASSED VALUE,
            nuVal = multiParm;     // save value was passed in multiParm    
            setRoot(var_name,nuVal);     
            document.getElementById(attr_ctrl.attr+'_change').innerHTML = nuVal;                 
            }
        // ELSE SAVE NEXT VALUE IN OPTION LIST
        else if (exist(attr_ctrl.options)) {
            // GET THE VALUEs POSITION INDEX IN THE PASSED OPTION LIST
            val = getRoot(var_name).toString();                          // get curr value, with whitespace
            log('chgAttr() prior value ['+val+']');
            ix  = attr_ctrl.options.indexOf(val);                           //
            if (ix == -1) { ix=0; warn('current value ['+val+'] not found in list:\n '+attr_ctrl.options)    }
            // GET THE VALUEs NEXT OPTION IN THE PASSED OPTION LIST
            if         (ix == attr_ctrl.options.length-1 && command === 'increment') {ix = 0}
            else if    (ix == 0                          && command === 'decrement') {ix = attr_ctrl.options.length-1}
            else if    (command === 'decrement')                                     {ix--}
            else if    (command === 'increment')                                     {ix++}
            else {}
            nuVal = attr_ctrl.options[ix];
            // UPDATE :ROOT --VARIABLE & DISPLAY VALUE IN CHANGES COLUMN
            setRoot(var_name,nuVal);                                     
            document.getElementById(attr_ctrl.attr+'_change').innerHTML = nuVal; 
            }
        // ELSE INCREMENT NUMBER VALUE & SAVE
        else if (exist(attr_ctrl.min)) { 
            // GET THE ATTRIBUTES s CURRENT VALUE
            val = parseFloat(getRoot(var_name).toString());                       // get curr numeric value from :root (note: .replace(/\s/g,'')
            suffix = 'px';                                                           // !! temp - change to get suffix from <select> !!
            log('chgAttr() prior numeric value ['+val+']');
            // INCREMENT OR DECREMENT NUMBER
            if         (command === 'increment')  {val = val + attr_ctrl.inc}
            else if    (command === 'decrement')  {val = val - attr_ctrl.inc}
            else       {error('chgAttr() invalid command '+command)}
            if         (val < attr_ctrl.min) {val = attr_ctrl.max}
            if         (val > attr_ctrl.max) {val = attr_ctrl.min}
            // APPEND MEASUREMENT SUFFIX
            nuVal = val+suffix;
            // UPDATE :ROOT --VARIABLE & DISPLAY VALUE IN CHANGES COLUMN
            setRoot(var_name,nuVal);                                     
            document.getElementById(attr_ctrl.attr+'_change').innerHTML = nuVal; 
            }
        else    {error('chgAttr() unknown request type')}
        // SET ATTRRIBUTE & VALUE IN A LOCAL STORAGE ROOT REC FOR RELOAD
        let rec =  user.root.find(o => o.name.toString() === var_name.toString()); // find existing :root --variable change record
        if (typeof rec === 'undefined') {                                             // create new    :root --variable change record
            rec          =  new PAIR;
            rec.name     =  var_name;
            user.root.push(rec)          
            log('new change record for '+var_name)}
        rec.val = nuVal;

        // setRoot(css_name, nuVal);

        log('rec:  '+rec.name+': '+rec.val);
        log('root: '+rec.name+': '+getRoot(var_name.toString()));
        
        }

//===============================================================
// attribute_info_popup() onclick event - display attribute information

    // get attribute_info_popup() elements needing to be fill in ( elements obtained once on page load )

    const infoDesc        = document.getElementById('info_description');      
    const infoAttrName    = document.getElementById('info_attribute_name');  // get elements once on page load for performance
    const infoVarName     = document.getElementById('info_variable_name');   //   instead of each time the function is called
    const infoStyleName   = document.getElementById('info_style_name');
    const infoUndo        = document.getElementById('info_undo');
    const infoName        = document.getElementById('info_name');
    const infoAttrOptions = document.getElementById('info_options');
    const infoDocs        = document.getElementById('info_documentation');
    const infoSamples     = document.getElementById('info_samples');
    const infoTutors      = document.getElementById('info_tutor');
    const infoNameSample  = document.getElementById('info-name-sample' );
    const infoVarSample   = document.getElementById('info-var-sample'  );
    const infoStyleSample = document.getElementById('info-style-sample');
    const infoCurrent     = document.getElementById('info_current');
    const infoInitial     = document.getElementById('info_initial');

    // Update the attribute valus in the popup element and display the popup

    function attribute_info_popup(var_name, attr_ctrl) {
        log('attribute_info_popup('+var_name+', '+attr_ctrl.attr+')');

        // FILL IN CURRENT & UNDO VALUES
        infoCurrent.innerHTML          = getRoot(var_name);
        infoUndo.innerHTML             = getRoot(var_name);        // set undo    value in html element   ???? not right

        // FILL IN BROWSER INITIAL DEFAULT VALUES
        infoInitial.innerHTML = '';                                // clear prior attribute results
        setClass(infoInitial,'infoLinksGrid', 'on');               // set 4 column grid
        let col1                       = newDOM(infoInitial, 'DIV');
        let col2                       = newDOM(infoInitial, 'DIV');
        let col3                       = newDOM(infoInitial, 'DIV');
        let col4                       = newDOM(infoInitial, 'DIV');

        let maxPerColumn               = Math.floor(attr_ctrl.default.length /4)+1;
        let start                      = 0;
        let stop                       = maxPerColumn;

        // FILL IN BROWSER INITIAL VALUES
        for (let i =1; i <5; i++) {
                switch (i) {
                    case 1: col = col1; break;
                    case 2: col = col2; break;
                    case 3: col = col3; break;
                    case 4: col = col4; break;
                    default: error('case not found in attribute_info_popup()')
                    }
                for (let j = start; j < stop; j++)      { 
                     let wrapperObj            = newDOM(col, 'DIV');
                     setClass(wrapperObj,'splitGrid');
                     let tagName               = newDOM(wrapperObj, 'SPAN');
                     let tagInitialValue       = newDOM(wrapperObj, 'SPAN');
                     setClass(tagInitialValue,'sysRed');
                     tagName.innerHTML         = attr_ctrl.default[j].name; // toUpperCase()+" initial";
                     tagInitialValue.innerHTML = attr_ctrl.default[j].value;
                    }
                start        += maxPerColumn;
                stop         += maxPerColumn;
                if (stop >= attr_ctrl.default.length) 
                   {stop  = attr_ctrl.default.length}
                }
        // FILL IN ATTRIBUTE, VAR, STYLE NAMES & SAMPLE USAGE
        infoDesc.innerHTML          = attr_ctrl.description;    // set attribute description                    Font Size
        infoAttrName.innerHTML      = attr_ctrl.attr;           // set attribute name                           font-size
        infoVarName.innerHTML       = var_name;                 // set attribute variable name                  --font-size
        infoStyleName.innerHTML     = attr_ctrl.style;          // set attribute style name for js reference    fontSize
        infoNameSample.innerHTML    = ".myClass { <yellow>"+attr_ctrl.attr+"</yellow>: "+attr_ctrl.default[0].value+" }"

        infoVarSample.innerHTML     = ".myClass { <yellow>"+attr_ctrl.attr+"</yellow>: <red>var(</red><blue>"+var_name+"</blue><red>)</red> }"+
                                "<br>:<em>root</em> { <blue>"+var_name+"</blue>: "+attr_ctrl.default[0].value+"; }<p>_root = document.querySelector(':root');"+
                                "<br>"+attr_ctrl.style+" = getComputedStyle(<em>_root</em>).<b>getPropertyValue(</b>'<blue>"+var_name+"</blue>'<b>)</b>;"+
                                "<br>getComputedStyle(<em>_root</em>).<b>setPropertyValue(</b>'<blue>"+var_name+"</blue>'<b>, '"+getRoot(var_name)+"')</b>;"

        infoStyleSample.innerHTML   = "size = document.getElementById(id)<red>.style</red>.<green>"+attr_ctrl.style+"</green>;<br>"+
                                      "document.getElementById(id)<red>.style</red>.<green>"+attr_ctrl.style+"</green> = '"+attr_ctrl.default[0].value+"';"

        // FILL IN ATTRIBUTE SEARCH DOCS, SAMPLES, TUTOR WALKTHROUGH BUTTONS
        infoName.innerHTML          = attr_ctrl.attr;           // set attribute name
        infoDocs._attribute_name    = attr_ctrl.attr;           // set documents search button parameter to the attribute name
        infoSamples._attribute_name = attr_ctrl.attr;           // set samples   search button parameter to the attribute name
        infoTutors._attribute_name  = attr_ctrl.attr;           // set tutors    search button parameter to the attribute name
 
        // ATTRIBUTE OPTIONS LOOP - CREATE SEARCH DOCS, SAMPLES, TUTOR WALKTHROUGH BUTTONS
        infoAttrOptions.innerHTML   = ''; // clear prior attribute options before appending new options
        let optionObj, docObj, sampleObj, tutorObj; // LOOP - Display Attribute Options and their search buttons
        if (exist(attr_ctrl.options)) {                         // if the attribute has a option list
            for (let i=0; i<attr_ctrl.options.length; i++) {    //    then loop through its options

                wrapperObj          = newDOM(infoAttrOptions,'DIV');    // Create a Option container
                setClass(wrapperObj,'infoLinksGrid','on');              // assign a column grid for the wrapper contents below
    
                optionObj           = newDOM(wrapperObj,'SPAN');        // Create the options Name element in the above container 
                optionObj.innerHTML = attr_ctrl.options[i];             // Display the option name in the button
                setClass(optionObj,'sysRed','on');                      // make the option name red by setting a red css style class name

                docObj              = newDOM(wrapperObj,'button');      // Create search Documentation button in the container
                docObj.innerHTML    = 'Publications';                   // Display 'Publications' as the button title 
                docObj._attribute_name = attr_ctrl.options[i];          // create and set attribute name in button object as a parameter for onclick()
                setClass(docObj,'sysButton','on');                      // make it look like a button by setting a css button style class name
                docObj.onclick = function (e) { let obj = e.currentTarget; searchSites(obj._attribute_name, info_sites)   } // make the button call a search function

                sampleObj           = newDOM(wrapperObj,'button');      // Create search Samples button in the container
                sampleObj.innerHTML = 'Samples';                        // Display 'Samples' as the button title 
                sampleObj._attribute_name = attr_ctrl.options[i];       // create and set attribute name in button object as a parameter for onclick()
                setClass(sampleObj,'sysButton','on');                   // make it look like a button by setting a css button style class name
                sampleObj.onclick       = function (e) { let obj = e.currentTarget; searchSites(obj._attribute_name, sample_sites)}// make the button call a search function
    
                tutorObj            = newDOM(wrapperObj,'button');      // Create search Tutorials button in the container
                tutorObj.innerHTML  = 'Tutors';                         // Display 'Tutors' as the button title 
                tutorObj._attribute_name = attr_ctrl.options[i];        // create and set attribute name in button object as a parameter for onclick()
                setClass(tutorObj,'sysButton','on');                    // make it look like a button by setting a css button style class name
                tutorObj.onclick         = function (e) { let obj = e.currentTarget; searchSites(obj._attribute_name, tutor_sites) }// make the button call a search function
                }
            }
        showId('attribute-popup'); // display the attribute info popup we just filled in
        }

// ==============================================================
// searchSites() onclick event - search  site:github.com OR site:gitlab.com OR site:bitbucket.org after:2018-01-01

    const search_prefix =   'https://www.google.com/search?q=css DOM';

    const info_sites    = [ 'caniuse.com',        
                            'cssreference.io',
                            'getdocs.org',
                            'github.com/JaniRefsnes/w3css/blob/master/w3.css',
                            'www.w3.org',
                            'developer.mozilla.org'                            
                            ]; 
    const sample_sites  = [ 'github.com/w3dotdev',
                            'css-tricks.com',
                            'www.geeksforgeeks.org',
                            'stackoverflow.com',   
                            'www.w3.org',  
                            'www.codegrepper.com',   
                            'css-tricks.com',
                            'levelup.gitconnected.com',
                            'docs.w3cub.com',
                            'www.quackit.com',
                            'www.w3docs.com',
                            'help.dottoro.com',
                            'www.w3schools.com',
                            'www.w3programmers.com',
                            'codepen.io',
                            'drafts.csswg.org'
                            ]; 
    const tutor_sites   = [ 'www.csstutorial.net',
                            'www.javascripttutorial.net',
                            'w3cx.org',
                            'htmldog.com',
                            'www.tutorialbrain.com',
                            'www.w3resource.com/css',
                            'o7planning.org',
                            'www.tutorialrepublic.com',
                            'www.learn-html.org',
                            'www.freecodecamp.org',
                            'www.smashingmagazine.com',
                            'www.tutorialscan.com',
                            'css-tricks.com',
                            'elad.medium.com',
                            'www.youtube.com',
                            'www.tutorialbrain.com',
                            'developer.mozilla.org/en-US/docs/Learn/',
                            'www.enjoytutorials.com'
                            ];

    function searchSites(argument, site_list) {
        log('searchSites( '+argument+' )');
        let                                     sites =  ' site:'+site_list[0];
        for ( i=1; i<site_list.length; i++)   { sites += ' OR site:'+site_list[i] }
        search_string = search_prefix +' "'+ argument +'" '+ sites +' after:2015-01-01';
        log(search_string);
        window.open(search_string);
        } 

// ==============================================================
// moveToTop() - mouse enter event - bring popup to top layer so it is not hidden behind other popups

    var currTopPopup = '';

    function moveToTop(e) {
        let popupObj                  = e.currentTarget;
        let priorTop                  = currTopPopup;
        log( '\nmoveToTop('             + popupObj.id+')');
    
        if (currTopPopup             != '') { // move top popup back to its original z-indes layer
            currTopPopup.style.zIndex = currTopPopup.getAttribute('_zoriginal');
            }
        popupObj.style.zIndex         = '99'; // move this popup to the top popup layer of 99 as 100+ is reserved for any warning and error popups
        currTopPopup                  = popupObj; // record new top popup for next time
        }

// ==============================================================
// drag & drop - event handlers                              

    var offsetX = offsetY = 0;

    function dragElement(e) { e.dataTransfer.setData("text", e.target.id); log('<<< onDragStart >>> '+e.target.id);  
                              // console.clear();
                              // e.clinetX e.clientY
                              let obj     = e.target;
                              let cursorX = e.clientX;
                              let cursorY = e.clientY;
                              let curleft = curtop = 0;
                              log('cursor X:'+cursorX+' cursor Y:'+cursorY+' obj left:'+obj.offsetLeft+' top:'+obj.offsetTop);
                              if (obj.offsetParent) { do { curleft   += obj.offsetLeft;
                                                           curtop    += obj.offsetTop;
                                                         } while (obj = obj.offsetParent)        }
                              offsetX = Math.abs(cursorX-curleft);
                              offsetY = Math.abs(cursorY-curtop )+document.getElementById('sysMenu').offsetHeight; // 22; 
                              log('offset left:'+offsetX+' offset top:'+offsetY);
                            }
    function dropZone(e)    { e.preventDefault(); }   
    function dropElement(e) { e.preventDefault();    
                              let cursorX           = e.clientX;
                              let cursorY           = e.clientY;
                              let id                = e.dataTransfer.getData("text");
                              let left              = cursorX-offsetX; //, 0);
                              let top               = cursorY-offsetY; //, 0);
                              dropObj               = document.getElementById(id);
                              dropObj.style.left    = left+'px';
                              dropObj.style.top     = top+'px';
                              }

// ==============================================================
// exists() passed() - check if parameter exists             
 
    function exist(item)  { if (item == '0'         || item === 0)          { return true  }
                            if (item == 'undefined' || item == undefined ||
                                item == 'NaN'       || item == NaN       ||
                                item == 'null'      || item == null      ||
                                item === 'false'    || item === false    ||
                                item == ''          )                       { return false } // log('..exists('+item+') param type: '+typeof item+' does not exist');
                            else                                            { return true  } // log('..exists('+item+') does exist'    ); }
                            }
    function passed(item) { return exist(item) }
// ==============================================================
// getInitialValue() - get the browser default attribute values for each html element before applying site theme overrides
    
    // For each tag name
    //     Get all attributes and values for this tag
    //     For all attributes in attr_ctrls
    //          Save tags attribute default values in attr_ctrls
    //
    // attr_ctrls {
    //     { attr:'font-size', style:'fontSize' defaults:{ {div:'16px'}, {span:'16px'}...}
    // }

    function getBrowserDefaults()                       {
        for (   let tag_ctrl of tag_ctrls )             { // Loop through all HTML element types
                log('-------------tag: '  +  tag_ctrl.tag);
                let elem     = newDOM(document.body, tag_ctrl.tag); // create a HTML DOM element using this tag
                let defaults = Object.assign( {}, window.getComputedStyle(elem) ); // get all attributes for this tag
                log(' ----  '+tag_ctrl.tag+' font-size: '+defaults['fontSize'])
                for (   let attr  of attr_ctrls )       { // loop through all attr_ctrls
                        log('tag-'+tag_ctrl.tag+' attr-'+attr.attr)
                        let pair = {};
                        pair.name  = tag_ctrl.tag
                        pair.value = defaults[attr.style];                    // create name, value pair
                        // reference defaults[] using this attributes .style name format.
                        attr.default.push(pair);          // save tags default attribute value
                        } // end for 
                document.body.removeChild(elem);          // end of tag processing
                } // end tag_ctrls loop
        } // end getBrowserDefaults()

    
// ==============================================================
// getRoot() setRoot() - :root variable access               

    var root = document.querySelector(':root');

    function getRoot(name)     {
        var    styles=getComputedStyle(root);
        return styles.getPropertyValue(name);
        }
    function setRoot(name,val) {
        root.style.setProperty(name.toString(), val);
        // log('setRoot("'+name+'", "'+val+'") | now = "'+getRoot(name)+'"');
        }
// ==============================================================
// newDOM()  - generate new HTML element for a parent element

    function newDOM(parent, tag)  {
        // indent();
        // console.log('newDOM( '+parent+', '+tag+' )');
        if (typeof parent == 'string') {
            try   { parent = document.getElementById(parent) }
            catch { error('Parent: '+parent+' not found in newDOM()')}
            }
        let elem       = document.createElement(tag);
        // elem.id        = rec.id;
        parent.appendChild(elem);
        // elem           = document.getElementById(id);
        // console.log(dent+'tool icon elem.id: '+elem.id);
        // undent();
        return elem;
        }
// ==============================================================
// SetClass() - action default = toggle                      

    function setClass(obj, class_name, action)    {
        if (exist(obj) && exist(class_name) == false)   {error('setclass missing parm'); return }

        // get obj exceptions
        if (obj == 'body')               {log('setClass() getByTag'); obj = document.getElementsByTagName(obj)[0] } 
        else if (typeof obj == 'string') {log('setClass() getById');  obj = document.getElementById(obj)          }
        else    {} // obj passed

        let status = 'the same as it was';
        if (action == undefined || action == 'toggle')  {
            obj.classList.toggle(class_name);         status = 'off';
            if (obj.classList.contains(class_name)) { status = 'on' }
            }
        else if (action == 'off' && obj.classList.contains(class_name)) {
            obj.classList.toggle(class_name);         status = 'off';
            }
        else if (action == 'on' && !obj.classList.contains(class_name)) {
            obj.classList.toggle(class_name);         status = 'on';
            }
        // log(obj.tagName+' optional object id: '+obj.id+' <- set class '+class_name+' optional action['+action+'] is now '+status);
        // TBD - update obj rec
        }
// ==============================================================
// show..() hide..() elements and named groups               

    function showId(id) {log('show('+id+')');
            let obj; 
            try { obj = document.getElementById(id) } catch {error('!!  showId() id: '+id+' not found')}
            log('showId('+id+') tag: '+obj.tagName);
            if (obj.tagName == 'SPAN' ) { obj.style.display = 'inline' }
            else                        { obj.style.display = 'block' }
            }
    function hideId(id) {log('hide('+id+')'); document.getElementById(id).style.display = 'none' }

    function hideBrothers(name)          {
            log('hideBrothers() '+name);
            if (exist(name)) {
                switch (name) {
                    case 'editRoot':     coll = document.querySelectorAll('[name = "editRoot"]'    ); break;
                    case 'editThemes':   coll = document.querySelectorAll('[name = "editThemes"]'  ); break;
                    default:             warn('!! hideBrothers() '+name+' not found')                  }
                log(coll.length+' '+typeof coll[0]+'(s) have the name of '+name);
                for (let elem = 0; elem < coll.length; elem++) { coll[elem].style.display = 'none'; }
                }
            else {warn('HideBrothers('+name+') not found')}
        }
    function showBrothers(name)          {
            log('showBrothers() '+name);
            if (exist(name)) {
                switch (name) {
                    case 'editRoot':     coll = document.querySelectorAll('[name = editRoot'    ); break;
                    case 'editThemes':   coll = document.querySelectorAll('[name = editThemes'  ); break;
                    default:             warn('!! hideBrothers() '+name+' not found')                  }
                log(coll.length+' '+typeof coll[0]+'(s) have the name of '+name);
                for (let elem = 0; elem < coll.length; elem++) { coll[elem].style.display = 'inline'; }
                }
            else {warn('HideBrothers('+name+') not found')}
        }
                                                //  name='editThemes' 
// ==============================================================
// get..() put..()                                           

    function getById    (name)   { return document.getElementsById(name) }
    function getByName  (name)   { return document.getElementsByName(name) }
    function getByTag   (name)   { return document.getElementsByTagName(name) }
    function getByClass (name)   { return document.getElementsByClassName(name) }
// =============================================================
// save()  read()  - local storage,                          

    // save user setting for future page load or refresh which reads and restores user settings

    function save() {                       // SAVE user changes for page reloads
        log(' save() - local storage');
        console.table(user);
        if (localStorage) { localStorage.setItem('user', JSON.stringify(user)); }
        }

    function read() {                       // READ user changes from storage on page load
        if (localStorage) { 
            log(' read() - local storage');
            try { results = JSON.parse(localStorage.getItem('user')); }
            catch                {  warn('read() - No stored user settings found'); return user } // return empty object
            if (!exist(results)) {  warn('read() - No prior user settings found' ); return user } // return empty object
            }
        return results;                                                                // return read  object
        }
// ==============================================================
// body onLoad                                               

    function bodyLoaded() {
        console.clear();
        log('..HTML BODY loaded event');

        loadWorker();
        user = read();

        log('bodyLoaded() complete')
        }

    function loadWorker() {
        let startTime = performance.now();
          setTimeout(() => {
                // get browsers attribute default values before adding themes 
                getBrowserDefaults();
                let endTime   = performance.now();
                log('browser defaults obtained in '+(endTime-startTime)+'ms');
                // set user and system themes after getBrowserDefaults();
                document.documentElement.setAttribute(theme,'system');  // add system theme variables to root
                var head = document.getElementsByTagName('HEAD')[0];    // Get HTML head element
                var link = document.createElement('link');              // Create new stylesheet link Element
                link.rel = 'stylesheet';
                link.type = 'text/css';
                link.href = './themes.css';
                head.appendChild(link);                                 // Append link element to HTML head
                log('site themes set');
                },                          1 );
    }

// ==============================================================
// log() - debug, consol.log                                                  

    const status = document.getElementById('status');
    function state(txt) {
        status.innerHTML = txt;
        }
    function log(txt)     {console.log(txt)}
    function error(txt) {console.error(txt)}
    function warn(txt)  {console.warn(txt)}

console.log('..HTML JavaScript loaded');
</script>
</body>
</html>
